$(document).on("ready",function(){schema={title:"Banner Editor",type:"object",properties:{images:{type:"array",format:"table",title:"Imagens",uniqueItems:!1,items:{type:"object",title:"Imagem",properties:{size:{title:"Tamanho",type:"string","enum":["3","4","6","9","12"],options:{enum_titles:["1x","1.5x","2x","3x","4x"]},"default":"3"},imageUrl:{title:"Link da imagem",type:"string","default":"http://placehold.it/500x500/"},text:{title:"Texto da imagem",type:"string","default":"Ol\u00e1, sou uma imagem"},
link:{title:"Url de Redirecionamento",type:"string","default":"#"}}},"default":[{size:"6",imageUrl:"http://placehold.it/500x500/",text:"Ol\u00e1, sou uma imagem",link:"#"}]}}};$.extend(!0,JSONEditor.defaults.languages.en,{button_add_row_title:"Adicionar {{0}}",button_delete_last_title:"Deletar \u00faltimo {{0}}",button_delete_last:"\u00daltimo {{0}}",button_delete_all_title:"Deletar todos",button_delete_all:"Todos",button_delete_row_title:"Deletar {{0}}",error_uniqueItems:"Os itens devem ser \u00fanicos"});
var d;d&&d.destroy();d=new JSONEditor($("#editor")[0],{schema:schema,theme:"bootstrap3",iconlib:"fontawesome4",disable_collapse:!0,disable_edit_json:!0,disable_properties:!0,no_additional_properties:!0});var g=$(".json-qd-v1-output-preview-slide"),h=$(".json-qd-v1-output-preview");d.on("change",function(){var b=g.is(":checked");b&&g.click();for(var e=d.getValue(),a="",k=0,l=0,c;c=e.images[l];l++){var k=k+parseInt(c.size),f='<div class="col-xs-12 col-md-{{size}}"><div class="mosaic-qd-v1-wrapper"><div class="mosaic-qd-v1-legend"><a href="{{link}}"><span>{{text}}</span></a></div><div class="mosaic-qd-v1-image"><a href="{{link}}"><img src="{{imageUrl}}" class="img-responsive" alt="{{text}}" /></a></div></div></div>'.replace(/{{size}}/g,
c.size).replace(/{{link}}/g,c.link).replace(/{{imageUrl}}/g,c.imageUrl).replace(/{{text}}/g,c.text);0==l&&(f='<div class="row">'+f);12<k&&(k=parseInt(c.size),f='</div><div class="row">'+f);a+=f}a+="</div>";$("#output").val(a);h.html(a);b&&g.click()});$(window).on("beforeunload",function(b){if(b=b||window.event)b.returnValue="Certeza que deseja sair?\nAltera\u00e7\u00f5es n\u00e3o salvas ser\u00e3o apagadas!";return"Certeza que deseja sair?\nAltera\u00e7\u00f5es n\u00e3o salvas ser\u00e3o apagadas!"});
g.change(function(){h.is(".slick-initialized")&&h.slick("unslick");$(this).is(":checked")&&h.slick({arrows:!1})});$(".json-qd-v1-import-field button").click(function(){var b=$(".json-qd-v1-import-field").slideToggle().find("textarea"),b=$(b.val()),e={images:[]};b.find(".col-xs-12").each(function(){var a=$(this);e.images.push({imageUrl:a.find("img").attr("src"),link:a.find("a").first().attr("href"),size:a.attr("class").match(/col-md-(\d+)/)[1],text:a.find("span").text()})});b.filter(".col-xs-12").each(function(){var a=
$(this);e.images.push({imageUrl:a.find("img").attr("src"),link:a.find("a").first().attr("href"),size:a.attr("class").match(/col-md-(\d+)/)[1],text:a.find("span").text()})});d.setValue(e)});$(".import-toggle").click(function(){$(".json-qd-v1-import-field").slideToggle(500)});$("#output + button").click(function(){$("#output").select();document.execCommand("copy")});$(".json-qd-v1-delete-all").on("click",function(){confirm("Certeza que deseja apagar o conte\u00fado?\nTodas altera\u00e7\u00f5es n\u00e3o salvas ser\u00e3o apagadas!")&&
$(".json-editor-btn-delete").last().click()})});
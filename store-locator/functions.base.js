$(document).on("ready",function(){if(schemas){var e=window.location.href.split("?")[1]||"",t=$.extend(!0,schemas.default,schemas[e]);null!=e.match("lion")&&$(".lang-qd-v1-wrapper").removeClass("hidden"),null!=t.basis&&$.extend(!0,t,schemas[t.basis],schemas[e]),schemas=void 0;var o=window.location.href.split("?")[2]||navigator.language.split("-")[0]||navigator.userLanguage.split("-")[0];for(field in t.properties.store.items.properties){var a=t.properties.store.items.properties[field].title;t.properties.store.items.properties[field].title=a[o]||a.default}var l,n={default:{button_add_row_title:"Adicionar {{0}}",button_delete_last_title:"Deletar último {{0}}",button_delete_last:"Último {{0}}",button_delete_all_title:"Deletar todos",button_delete_all:"Todos",button_delete_row_title:"Deletar {{0}}",error_uniqueItems:"Os itens devem ser únicos"},en:{button_add_row_title:"Add {{0}}",button_delete_last_title:"Delete last {{0}}",button_delete_last:"Last {{0}}",button_delete_all_title:"Delete all",button_delete_all:"All",button_delete_row_title:"Delete {{0}}",error_uniqueItems:"Items must be unique"}};$.extend(!0,JSONEditor.defaults.languages.en,n[o]||n.default),$("#setvalue").click(function(){if(confirm("Atenção, essa ação irá alterar todo o conteúdo editado!"))try{l.setValue(JSON.parse($("#input").val())),$(".import-toggle").click(),$(this).parent().removeClass("has-error")}catch(e){$(this).parent().addClass("has-error")}}),$(".import-toggle").click(function(){$(".json-qd-v1-import-field").toggle(500)}),$(".qd-change-store").click(function(){$(".json-qd-v1-change-store").toggle(500)}),$(".code-qd-v1-output-field").each(function(){var e=$(this);e.find("button").click(function(){e.find("textarea").select(),document.execCommand("copy")})}),$(".json-qd-v1-delete-all").click(function(){confirm("Certeza que deseja apagar o conteúdo?\nTodas alterações não salvas serão apagadas!")&&$(".json-editor-btn-delete").last().click()}),l&&l.destroy(),(l=new JSONEditor($("#editor")[0],{schema:t,theme:"bootstrap3",iconlib:"fontawesome4",disable_collapse:!0,disable_edit_json:!0,disable_properties:!0,no_additional_properties:!0})).on("change",function(){var e=l.getValue();$(".qd-json-output-field textarea").val(JSON.stringify(e,null,4)),$(".qd-html-output-field textarea").val('<script> var QD_storeLocator_stores="#replace"; </script>'.replace('"#replace"',JSON.stringify(e,null,4))),$(".qd-btn-download").attr("href","data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(e,null,4))),$(".qd-btn-download").attr("download",t.fileName||"store.json")}),$(".qd-btn-html").click(function(){$(".qd-html-output-field").toggle(500,function(){$("html,body").animate({scrollTop:$("html,body").height()})})}),$(".qd-btn-json").click(function(){$(".qd-json-output-field").toggle(500,function(){$("html,body").animate({scrollTop:$("html,body").height()})})}),$(window).on("beforeunload",function(e){return(e=e||window.event)&&(e.returnValue="Certeza que deseja sair?\nAlterações não salvas serão apagadas!"),"Certeza que deseja sair?\nAlterações não salvas serão apagadas!"}),$.ajax({url:t.json||default_json,success:function(e){l.setValue(e)}})}else alert("Não foi possível carregar a estrutura!")});
$(document).on("ready",function(){if(schemas){var e=window.location.href.split("&")[0].split("?")[1]||"",t=$.extend(!0,schemas.default,schemas[e]);null!=e.match("lion")&&$(".lang-qd-v1-wrapper").removeClass("hidden"),null!=t.basis&&$.extend(!0,t,schemas[t.basis],schemas[e]),schemas=void 0;var a=(window.location.href.split("&")[1]||"").replace("lang=","")||window.location.href.split("?")[2]||navigator.language.split("-")[0]||navigator.userLanguage.split("-")[0];for(field in window.i18next.use(window.i18nextXHRBackend).init({lng:a,fallbackLng:"pt",backend:{loadPath:"locales/qd-locale-{{lng}}.json"}},function(){window.jqueryI18next.init(window.i18next,$),$("[data-i18n]").localize()}),t.properties.mydata.items.properties){var o=t.properties.mydata.items.properties[field].title;t.properties.mydata.items.properties[field].title=o[a]||o.default}var n={default:{button_add_row_title:"Adicionar {{0}}",button_delete_last_title:"Deletar última {{0}}",button_delete_last:"Última {{0}}",button_delete_all_title:"Deletar todos",button_delete_all:"Todos",button_delete_row_title:"Deletar {{0}}",button_delete_row_title_short:"Deletar",button_move_up_title:"Mover para cima",button_move_down_title:"Mover para baixo",error_uniqueItems:"Os itens devem ser únicos"},en:{button_add_row_title:"Add {{0}}",button_delete_last_title:"Delete last {{0}}",button_delete_last:"Last {{0}}",button_delete_all_title:"Delete all",button_delete_all:"All",button_delete_row_title:"Delete {{0}}",button_delete_row_title_short:"Delete",button_move_up_title:"Move up",button_move_down_title:"Move down",error_uniqueItems:"Items must be unique"},es:{button_add_row_title:"Añadir {{0}}",button_delete_last_title:"Eliminar última {{0}}",button_delete_last:"Última {{0}}",button_delete_all_title:"Eliminar todos",button_delete_all:"Todos",button_delete_row_title:"Eliminar {{0}}",button_delete_row_title_short:"Eliminar",button_move_up_title:"Mover hacia arriba",button_move_down_title:"Mover hacia abajo",error_uniqueItems:"Los elementos deben ser únicos"}};$.extend(!0,JSONEditor.defaults.languages.en,n[a]||n.default),$.extend(!0,JSONEditor.defaults.languages.es,n[a]||n.default),JSONEditor.defaults.iconlibs.fontawesome4_custom=JSONEditor.AbstractIconLib.extend({mapping:{collapse:"caret-square-o-down",expand:"caret-square-o-right",delete:"trash",edit:"pencil",add:"plus",cancel:"ban",save:"save",moveup:"arrow-up",movedown:"arrow-down"},icon_prefix:"fa fa-"});var l,i={pt:{warningEditContent:"Atenção, essa ação irá alterar todo o conteúdo editado!",warningDeleteContent:"Certeza que deseja apagar o conteúdo?\nTodas alterações não salvas serão apagadas!",warningExit:"Certeza que deseja sair?\nAlterações não salvas serão apagadas!"},es:{warningEditContent:"¡Atención, esta acción cambiará todo el contenido editado!",warningDeleteContent:"¿Está seguro que desea borrar el contenido?\n¡Todos cambios no guardados se borrarán!",warningExit:"¿Certeza que desea salir?\n¡Los cambios no guardados se borrarán!"}};$("#setvalue").click(function(){if(confirm(i[a].warningEditContent))try{var e=$("#input").val();-1<e.indexOf("<script>var "+t.jsVariableName)?($(document.body).append(e),l.setValue(window[t.jsVariableName])):-1<e.indexOf("var "+t.jsVariableName)?($(document.body).append("<script>"+e+"</script>"),l.setValue(window[t.jsVariableName])):l.setValue(JSON.parse(e)),$(".import-toggle").click(),$(this).parent().removeClass("has-error")}catch(e){$(this).parent().addClass("has-error")}}),$(".import-toggle").click(function(){$(".json-qd-v1-import-field").toggle(500)}),$(".qd-change-store").click(function(){$(".json-qd-v1-change-store").toggle(500)}),$(".code-qd-v1-output-field").each(function(){var e=$(this);e.find("button").click(function(){e.find("textarea").select(),document.execCommand("copy")})}),$(".json-qd-v1-delete-all").click(function(){confirm(i[a].warningDeleteContent)&&$(".json-editor-btn-delete").last().click()}),l&&l.destroy(),(l=new JSONEditor($("#editor")[0],{schema:t,theme:"bootstrap3",iconlib:"fontawesome4_custom",disable_collapse:!0,disable_edit_json:!0,disable_properties:!0,no_additional_properties:!0})).on("change",function(){var e=l.getValue();$(".qd-json-output-field textarea").val(JSON.stringify(e,null,4)),$(".qd-html-output-field textarea").val("<script>var #varName=#replace;</script>".replace("#varName",t.jsVariableName).replace("#replace",JSON.stringify(e,null,4))),$(".qd-javascript-output-field textarea").val("var #varName=#replace;".replace("#varName",t.jsVariableName).replace("#varName",t.jsVariableName).replace("#replace",JSON.stringify(e,null,4))),$(".qd-btn-download").attr("href","data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(e,null,4))),$(".qd-btn-download").attr("download",t.fileName+".json"||"store.json"),$(".qd-btn-download-json").attr("href","data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(e,null,4))),$(".qd-btn-download-json").attr("download",t.fileNameJson||"store.json"),$(".qd-btn-download-html").attr("href","data:text/html;charset=utf-8,"+encodeURIComponent("<script> var #varName=#replace; </script>".replace("#varName",t.jsVariableName).replace("#replace",JSON.stringify(e,null,4)))),$(".qd-btn-download-html").attr("download",t.fileNameHtml||"store.html"),$(".qd-btn-download-javascript").attr("href","data:text/javascript;charset=utf-8,"+encodeURIComponent("var #varName=#replace;".replace("#varName",t.jsVariableName).replace("#replace",JSON.stringify(e,null,4)))),$(".qd-btn-download-javascript").attr("download",t.fileNameJS||"store.js")}),$(".qd-btn-html").click(function(){$(".qd-html-output-field").toggle(500,function(){$("html,body").animate({scrollTop:$("html,body").height()})})}),$(".qd-btn-json").click(function(){$(".qd-json-output-field").toggle(500,function(){$("html,body").animate({scrollTop:$("html,body").height()})})}),$(".qd-btn-javascript").click(function(){$(".qd-javascript-output-field").toggle(500,function(){$("html,body").animate({scrollTop:$("html,body").height()})})}),$(window).on("beforeunload",function(e){return(e=e||window.event)&&(e.returnValue=i[a].warningExit),i[a].warningExit}),$.ajax({url:t.json||default_json,success:function(e){"object"==typeof e?l.setValue(e):-1<e.indexOf("<script>var "+t.jsVariableName)?($(document.body).append(e),l.setValue(window[t.jsVariableName])):-1<e.indexOf("var "+t.jsVariableName)&&($(document.body).append("<script>"+e+"</script>"),l.setValue(window[t.jsVariableName])),$("button[data-i]").addClass("btn-xs"),$("button[data-i].delete").removeClass("btn-default").addClass("btn-danger")}})}else alert("Não foi possível carregar a estrutura!")});